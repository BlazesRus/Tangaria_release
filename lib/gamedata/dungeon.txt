# === Understanding dungeon.txt ===

# name : dungeon name
# wpos : x coordinate : y coordinate
# min-depth : minimum dungeon depth
# max-depth : maximum dungeon depth
# max-level : maximum character level allowed to enter
# flags : dungeon flags
# floor : floor feature : chance of getting the feature
# wall : wall feature : chance of getting the feature
# rule : chance of using the rule : apply to all monsters
# rule-flags : monster flags
# rule-spells : monster spell flags
# rule-symbols : monster symbols

# Set min-depth to the depth of the first level of the dungeon.
# Leaving min-depth unset means that the first level of the dungeon has a
# standard depth of 1. This should always be the case for the Main Angband
# dungeon.

# Set max-depth to the depth of the corresponding "force-location" unique
# in monster.txt to create the "final level dungeon boss".
# Leaving max-depth unset means "maximum depth allowed" (defined in
# constants.txt). This should always be the case for the Main Angband dungeon.

# Set max-level to restrict entrance to characters below a certain level.
# Never set for "mandatory" dungeons, otherwise it could prevent everyone from
# finishing the game.

# 'flags' are dungeon flags (see list-dungeon-flags.h)

# 'floor' are dungeon features that can replace basic floors
# 'wall' are dungeon features that can replace basic walls

# 'rule' are dungeon rules to restrict the possible monsters
# 'rule-flags' are monster flags checked by the rule
# 'rule-spells' are monster spell flags checked by the rule
# 'rule-symbols' are monster symbols checked by the rule
#
# number before dungeon name - max player lvl to enter
# the dungeon... and at endgame 50+: lvl of monsters (1-127) who lives there
#

#75 Main Angband dungeon
name:Angband
wpos:1:-4
min-depth:75
max-depth:100
rule:100:1

# 1
################################################################################
name:The Old Ruins
wpos:0:0
min-depth:1
max-depth:1
max-level:2
#floor:B3 floors n:1
floor:floor 0 grass:33
floor:floor 1 grass:34
floor:floor w grass:33
wall:obj_grass L ruins:11
wall:obj_grass M ruins:3
wall:obj_grass N ruins:11
wall:obj_grass O ruins:11
wall:obj_grass P ruins:3
wall:obj_grass Q ruins:6
#wall:big dark wall 0:11
#wall:big dark wall b window:1
flags:EMPTY
rule:100:1

# 5 (boss: Baba Yaga)
name:The Mountain Gorge
wpos:1:0
min-depth:2
max-depth:5
max-level:5
flags:NO_DOORS | WATER_RIVER
floor:packed dirt:70
floor:EB dirt 0:29
floor:EB dirt v:1
wall:ED dirt 0:34
wall:ED dirt 1:10
wall:ED dirt 2:24
wall:ED dirt 3:5
wall:ED dirt 4:1
wall:ED dirt 5:1
wall:ED dirt 6:1
wall:ED dirt 7:1
wall:ED dirt 8:1
wall:ED dirt 9:1
wall:ED dirt a:1
wall:ED dirt b:1
wall:ED dirt c:1
wall:ED dirt d:1
wall:ED dirt e:1
wall:ED dirt f:1
wall:ED dirt g:1
wall:ED dirt h:1
wall:ED dirt i:1
wall:ED dirt j:1
wall:ED dirt k:1
wall:ED dirt l:1
wall:ED dirt m:1
wall:ED dirt n:1
wall:ED dirt o:1
wall:ED dirt p:1
wall:ED dirt q:1
wall:ED dirt r:1
wall:ED dirt s:1
wall:ED dirt t:1
wall:ED dirt u:1
wall:ED dirt v:1
rule:40:0
rule-flags:ANIMAL
rule:30:0
rule-flags:UNDEAD
rule-symbols:h
rule:30:1

# 10 (boss: Solovei the Robber)
name:The Orc Cave
wpos:1:1
min-depth:4
max-depth:12
max-level:10
flags:CAVERN
floor:packed dirt:29
floor:EB dirt 0:70
floor:EC dirt V:1
wall:ED dirt 0:40
wall:ED dirt 2:50
wall:ED dirt 3:10
rule:50:0
rule-flags:ORC
rule-symbols:koO
rule:30:0
rule-flags:TROLL
rule:20:1

# 15 (boss: Shtukensia the Rogue)
name:The Severs
wpos:0:1
min-depth:8
max-depth:15
max-level:15
flags:NO_DOORS | WATER_RIVER
floor:B3 floors c:98
floor:B6 floors luquid T:1
floor:B6 floors luquid S:1
#floor:B3 floors 9:97
wall:big dark wall 0:20
wall:E3 big dark 0:1
wall:E3 big dark 1:1
#if green walls:
#wall:big dark wall 9 entrance:1
#wall:big dark wall a low entrance:1
#wall:big dark wall b window:1
rule:20:0
rule-symbols:p
rule:80:1

# 20 (boss: Kikimora)
name:Fetid Swamps
wpos:-1:0
min-depth:12
max-depth:20
max-level:20
flags:NO_DOORS | WATER_RIVER
floor:floor E grass:64
floor:floor 1 grass:24
floor:floor w grass:12
wall:tree 9 willow:60
wall:tree n dead tree:30
wall:tree Y:10
rule:40:0
rule-flags:ANIMAL
rule:30:0
rule-flags:UNDEAD
rule-symbols:h
rule:30:1

# 20 (boss: Azog, King of the Uruk-Hai)
name:The Orc Mountains
wpos:1:2
min-depth:15
max-depth:23
max-level:20
flags:CAVERN
floor:packed dirt:70
floor:EB dirt 0:29
floor:EC dirt V:1
wall:ED dirt 0:30
wall:ED dirt 2:10
wall:ED dirt 3:60
rule:50:0
rule-flags:ORC
rule-symbols:koO
rule:30:0
rule-flags:TROLL
rule:20:1

# 25 (boss: Old Man Willow)
name:The Old Forest
wpos:0:-1
min-depth:18
max-depth:25
max-level:25
flags:NO_DOORS | WATER_RIVER
floor:floor 0 grass:33
floor:floor 1 grass:34
floor:floor w grass:33
wall:tree 6 coniferous:23
wall:tree 8 coniferous:66
wall:tree W:11
rule:40:0
rule-flags:ANIMAL
rule:30:0
rule-flags:UNDEAD
rule-symbols:hl
rule:30:1

# 25 (boss: Koschei the Deathless)
name:Abandoned Manor
wpos:-1:2
min-depth:21
max-depth:27
max-level:25
#floor:packed dirt:10
#B3 DC (yellow ornament square in cirle)
floor:B3 floors n:2
floor:B3 floors o:97
wall:dark wall 0:30
wall:dark wall 1 narrow window:1
wall:dark wall 2 window:1
wall:dark wall 3 candelabra:1
wall:dark wall 4 torch:1
wall:dark wall 5 lamp:1
wall:dark wall 6 niche:1
wall:dark wall 7 swords:1
wall:dark wall 8 shield:1
wall:dark wall 9 statue:1
wall:dark wall a fountain:1
wall:dark wall b portrait:1
wall:dark wall c portrait:1
wall:dark wall d portrait:1
wall:dark wall e portrait:1
wall:dark wall f banner:1
wall:dark wall g banner:1
wall:dark wall h banner:1
wall:dark wall k empty window:1
wall:dark wall l window:1
wall:dark wall m barred window:1
wall:dark wall n glass window:1
wall:dark wall q door:1
wall:dark wall r doorway:1
wall:dark wall s door:1
wall:dark wall t doorway:1
wall:dark wall u:1
wall:dark wall v:1
wall:dark wall w:1
wall:dark wall x:1
wall:dark wall y:1
wall:dark wall z:1
wall:dark wall A:1
wall:dark wall B:1
wall:dark wall C:1
wall:dark wall D:1
wall:dark wall E:1
wall:dark wall F:1
wall:dark wall G:1
wall:dark wall H:1
wall:dark wall I:1
wall:dark wall J:1
wall:dark wall K:1
wall:dark wall L:1
wall:dark wall M:1
wall:dark wall N:1
wall:dark wall O:1
wall:dark wall P:1
wall:dark wall Q:1
wall:dark wall R:1
wall:dark wall S:1
wall:dark wall T:1
wall:dark wall U:1
wall:dark wall V:1
wall:dark wall W:1
wall:dark wall X:1
wall:dark wall Y:1
wall:dark wall Z:1
wall:dark wall ~:1
wall:dark wall `:1
rule:30:0
rule-symbols:ph
rule:30:0
rule-flags:UNDEAD
rule:75:1

# 30 (boss: The Sandworm Queen)
name:The Sandworm Lair
wpos:-2:2
min-depth:23
max-depth:30
max-level:30
flags:NO_DOORS | SAND_VEIN
floor:E7 desert 0:98
floor:E8 desert T:1
#floor:E7 desert d:1
floor:E8 desert V:1
wall:sandwall:96
wall:E9 desert 0:2
wall:E9 desert 1:2
rule:90:0
rule-symbols:w
rule:10:0
rule-flags:MULTIPLY

# 35 (boss: Ulfang the Black)
name:The Land Of Rhun
wpos:0:-2
min-depth:27
max-depth:34
max-level:35
flags:NO_DOORS
floor:light grass:33
floor:light grass plants:34
floor:light grass flowers:33
wall:tree 1:33
wall:tree d birch:33
wall:tree e linden:34
rule:30:0
rule-symbols:ph
rule:30:0
rule-flags:ANIMAL
rule:40:1

# 35 (boss: The Wight-King of the Barrow-downs)
name:The Barrow-downs
wpos:0:2
min-depth:28
max-depth:35
max-level:35
floor:floor 0 grass:33
floor:floor 1 grass:34
floor:floor w grass:33
wall:obj_grass L ruins:14
wall:obj_grass O ruins:14
wall:obj_grass Q ruins:14
rule:25:0
rule-flags:UNDEAD
rule:75:1

# 35 (boss: The Minotaur of the Labyrinth)
name:The Maze
wpos:-1:-1
min-depth:33
max-depth:40
max-level:35
#floor:web:1
flags:MAZE
rule:20:0
rule-symbols:p
rule:80:1

# 35 (boss: The Watcher in the Water)
name:The Small Water Cave
wpos:-1:3
min-depth:35
max-depth:45
max-level:35
floor:B6 floors luquid w:94
floor:B6 floors luquid x:5
floor:F3 shallow water m:1
wall:F3 shallow water 0:50
wall:F3 shallow water 1:10
wall:F3 shallow water 2:40
rule:40:0
rule-flags:IM_COLD
rule:40:0
rule-spells:BO_WATE | BA_WATE | BR_WATE
rule:10:0
rule-flags:IM_WATER
rule:10:1

#40 (boss: Golgarach, the Living Rock)
name:The Heart of the Earth
wpos:-1:-2
min-depth:38
max-depth:45
max-level:40
floor:B3 floors q:100
wall:big dark wall 0:33
wall:dark wall:33
rule:40:0
rule-symbols:#XgE
rule:30:0
rule-flags:PASS_WALL | KILL_WALL | HURT_ROCK
rule:30:1

#40 (boss: The White Balrog)
name:The Helcaraxe
wpos:0:4
min-depth:42
max-depth:50
max-level:40
flags:CAVERN | WATER_RIVER
floor:EF snow 0:89
floor:ice:10
floor:F0 snow U:1
wall:ice wall:80
wall:big white wall 0:10
wall:big dark wall 0:10
rule:100:0
rule-flags:IM_COLD

#40 (boss: The Balrog of Moria)
name:The Mines of Moria
wpos:1:3
min-depth:43
max-depth:50
max-level:40
flags:WATER_RIVER
floor:B3 floors 9:100
wall:mountain:10
wall:big dark wall 0:13
wall:dark wall:13
rule:40:0
rule-flags:ORC
rule:30:0
rule-flags:TROLL | GIANT
rule:20:0
rule-flags:DEMON
rule:10:1

#45 (boss: The Glass Golem)
name:The Illusory Castle
wpos:-2:1
min-depth:44
max-depth:52
max-level:45
wall:glass wall:5
wall:illusion wall:5
rule:70:0
rule-flags:STUPID | WEIRD_MIND | ATTR_MULTI | ATTR_FLICKER | RAND_25 |
rule-flags:RAND_50 | EMPTY_MIND | INVISIBLE | PASS_WALL | KILL_WALL | MULTIPLY
rule-spells:BR_CHAO | CONF | FORGET | TRAPS
rule:30:1

#45 (boss: Shelob, Spider of Darkness)
name:Cirith Ungol
wpos:-2:-1
min-depth:47
max-depth:55
max-level:45
flags:CIRCULAR_ROOMS
floor:packed dirt:7
floor:web:3
wall:mountain:9
wall:web:1
rule:49:0
rule-symbols:caIS
rule:49:0
rule-flags:ORC
rule-symbols:wmj
rule:2:1

#45 (boss: Ar-Pharazon the Golden)
name:Numenor
wpos:-2:3
min-depth:47
max-depth:55
max-level:45
floor:water:10
wall:water:9
rule:80:0
rule-flags:IM_WATER
rule:20:1

#49 (boss: Radagast the Brown)
name:Mirkwood
wpos:0:-3
min-depth:55
max-depth:64
max-level:49
flags:NO_DOORS
floor:grass:10
wall:tree:10
rule:25:0
rule-symbols:S
rule:75:1

#49 (boss: The Mouth of Sauron)
name:Mordor
wpos:1:-1
min-depth:56
max-depth:65
max-level:49
flags:CAVERN | LAVA_RIVER
floor:packed dirt:7
floor:ash:3
wall:mountain:5
rule:100:1

#49 (boss: Trone, the Rebel Thunderlord)
name:The Sacred Land Of Mountains
wpos:2:2
min-depth:60
max-depth:72
max-level:49
floor:grass:10
wall:mountain:10
rule:100:1

#lonely mountain
#49 (boss: Glaurung, Father of the Dragons)
name:Erebor
wpos:-1:-3
min-depth:62
max-depth:75
max-level:49
flags:CAVERN | LAVA_RIVER
floor:packed dirt:10
wall:mountain:9
wall:dark wall:1
rule:60:0
rule-symbols:D
rule:30:0
rule-symbols:d
rule:10:1

#49 (boss: The Necromancer of Dol Guldur)
name:Dol Guldur
wpos:-2:0
min-depth:63
max-depth:75
max-level:49
floor:water:2
rule:30:0
rule-symbols:pP
rule:30:0
rule-flags:DEMON | DRAGON
rule:20:0
rule-flags:UNDEAD
rule:10:0
rule-flags:ORC | TROLL
rule:10:1

#49 (boss: Feagwath, the Undead Sorcerer)
name:The Paths of the Dead
wpos:-1:-4
min-depth:66
max-depth:77
max-level:49
floor:packed dirt:9
floor:water:1
wall:dark wall:3
rule:85:0
rule-flags:UNDEAD | NONLIVING
rule:10:0
rule-symbols:p
rule:5:1

#### ANGBAND for 50 lvl (at beginning)

#50 (boss: The Balrog of the Sammath Naur)
name:Mount Doom
wpos:1:-2
min-depth:84
max-depth:98
flags:CAVERN | LAVA_RIVER
floor:lava stream:10
wall:lava:10
rule:100:0
rule-flags:IM_FIRE

#X (boss: Tulkas)
name:The Straight Road
wpos:-3:0
min-depth:101
max-depth:124
flags:LAVA_RIVER | WINNERS_ONLY |  WATER_RIVER | CAVERN
floor:B6 floors luquid w:94
floor:B6 floors luquid x:5
floor:F3 shallow water m:1
wall:F3 shallow water 0:3
wall:F3 shallow water 1:3
wall:F3 shallow water 2:3
rule:100:1

#XX (boss: Manwe)
name:Valinor
wpos:-5:0
min-depth:101
max-depth:126
flags:WINNERS_ONLY | WATER_RIVER
floor:floor 0 grass:33
floor:floor 1 grass:34
floor:floor w grass:33
wall:tree:33
wall:tree E tree:11
wall:tree F tree:6
rule:100:1

#nether realm
#rule:95:0
#rule-flags:IM_NETHER
#rule-symbols:GWU
#rule:5:1

#XXX (boss: Eru Iluvatar)
name:Utumno, Portal to the Void
wpos:0:-5
min-depth:102
max-depth:127
flags:EMPTY | WINNERS_ONLY
floor:void:10
wall:nether mist:1
wall:lava:1
wall:dark wall:1
rule:99:0
rule-flags:UNDEAD | DEMON | DRAGON | NONLIVING
rule:1:1